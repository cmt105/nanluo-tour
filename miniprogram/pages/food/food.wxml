<view class="page-container">
  <!-- é¡¶éƒ¨æœç´¢æ¡† -->
  <view class="search-bar">
    <view class="search-icon-wrap">
      <text class="search-icon">ğŸ”</text>
    </view>
    <input 
      placeholder="æœç´¢æƒ³åƒçš„ç¾é£Ÿï½" 
      class="search-input"
      bindinput="onSearchInput"
      value="{{searchKey}}"
      placeholder-class="search-placeholder"
    />
    <view class="clear-icon" wx:if="{{searchKey}}" bindtap="clearSearch">
      <text>âœ•</text>
    </view>
  </view>

  <!-- åˆ†ç±»æ ‡ç­¾æ  -->
  <view class="tab-bar">
    <view 
      class="tab-item {{currentTab === item ? 'active' : ''}}" 
      wx:for="{{tabList}}" 
      wx:key="*this"
      data-tab="{{item}}"
      bindtap="onTabClick"
    >
      <text>{{item}}</text>
      <view class="tab-underline {{currentTab === item ? 'active' : ''}}"></view>
    </view>
  </view>

  <!-- ç¾é£Ÿå¡ç‰‡åˆ—è¡¨ -->
  <view class="food-card-list">
    <!-- ç©ºæ•°æ®æç¤º -->
    <view class="empty-tip" wx:if="{{foodList.length === 0}}">
      <text class="empty-icon">ğŸ¥º</text>
      <text class="empty-text">æš‚æ— ç›¸å…³ç¾é£Ÿæ•°æ®~</text>
      <text class="empty-subtext">æ¢ä¸ªå…³é”®è¯æˆ–åˆ†ç±»è¯•è¯•çœ‹å§</text>
    </view>

    <!-- å¾ªç¯æ¸²æŸ“ç¾é£Ÿå¡ç‰‡ -->
    <view 
      class="food-card" 
      wx:for="{{foodList}}" 
      wx:key="_id"
      bindtap="goToDetail"  
      data-id="{{item._id}}"
    >
      <!-- ç¾é£Ÿå›¾ç‰‡ -->
      <view class="food-img-wrap">
        <image 
          class="food-img" 
          src="{{item.foodImg || '/images/default-food.png'}}" 
          mode="widthFix"
          lazy-load="true"
          fallback-src="/images/default-food.png"
        />
        <view class="food-tag-corner" wx:if="{{item.foodTag}}">{{item.foodTag}}</view>
      </view>

      <!-- ç¾é£Ÿä¿¡æ¯åŒºåŸŸ -->
      <view class="food-info">
        <!-- åç§°+è¯„åˆ† -->
        <view class="info-top">
          <text class="food-name">{{item.foodName}}</text>
          <view class="score-wrap" wx:if="{{item.foodScore}}">
            <text class="food-score">â˜… {{item.foodScore}}</text>
            <text class="score-tag">è¶…èµ</text>
          </view>
        </view>

        <!-- æè¿° -->
        <text class="food-desc" wx:if="{{item.foodDesc}}">{{item.foodDesc}}</text>

        <!-- åœ°å€+è·ç¦» -->
        <view class="info-middle" wx:if="{{item.foodAddr || item.foodDistance}}">
          <text class="addr-icon">ğŸ“</text>
          <text class="food-addr" wx:if="{{item.foodAddr}}">{{item.foodAddr}}</text>
          <text class="food-distance" wx:if="{{item.foodDistance}}">| {{item.foodDistance}}</text>
        </view>

        <!-- ä»·æ ¼çº¯å³å¯¹é½ -->
        <view class="info-bottom">
          <text class="food-price" wx:if="{{item.foodPrice}}">{{item.foodPrice}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- é‡æ–°è®¾è®¡çš„åº•éƒ¨æ ‡è¯­ -->
  <view class="footer-tips">
    <view class="tips-content">
      <text class="tips-emoji">ğŸœ</text>
      <text class="tips-text">ä¸€å£ä¸‹å»å…¨æ˜¯èƒ¡åŒé‡Œçš„æ¸©æŸ”</text>
    </view>
  </view>
</view>